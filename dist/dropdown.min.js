/*!
 * dropdown 0.4.0 https://github.com/TrySound/dropdown
 * Copyright 2015 Bogdan Chadkin <trysound@yandex.ru>
 */
!function(){function t(t,n){for(var e=t;e;){if(e===n)return!0;e=e.parentNode}return!1}function n(t){var n=typeof t;return"function"===n?t:function(e){var o="string"===n,s=e.nextElementSibling;return o&&s&&s.matches(t)||!o?s:void 0}}function e(n){var e=this,o=e.stack=[];e.opts=n,document.addEventListener("click",function(i){var c,r=i.target,l=r.closest(n.link);for(c=o.length-1;~c&&(l!==o[c]&&!t(r,n.list(o[c])));c-=1)e.close();l&&(i.preventDefault(),l.matches("."+n[s])?e.close():e.open(l))})}var o="dropdown",s="classLinkActive",i="classListActive",c=[],r={open:[],close:[]},l={init:function(t){t=t||{},t.link=t.link||"."+o+"-link",t.list=n(t.list),t[s]=t[s]||o+"-active",t[i]=t[i]||t[s],c.push(new e(t))},close:function(){var t,n;for(n=c.length-1;~n;n-=1)if(t=c[n],t.stack.length)return t.close(),!0;return!1},on:function(t,n){"open"!==t&&"close"!==t||"function"!=typeof n||r[t].push(n)}};"object"==typeof exports?module.exports=l:window[o]=l,e.prototype={open:function(t){var n,e=this,o=e.opts,c=o.list(t),l=r.open;if(c){for(n=0;n<l.length;n++)l[n](t,c,o);e.stack.push(t),t.classList.add(o[s]),c.classList.add(o[i])}},close:function(){var t,n=this,e=n.opts,o=n.stack.pop(),c=e.list(o),l=r.close;for(t=0;t<l.length;t++)l[t](o,c,e);o.classList.remove(e[s]),c.classList.remove(e[i])}}}();